{% trans_default_domain 'sfs_customer' %}
{% extends '@SfsCustomer/admin_layout.html.twig' %}
{% block title %}{{ 'admin_customers.details.page_title'|trans }}{% endblock %}

{% block content %}
    <div class="d-flex align-items-center justify-content-between mb-4">
        <h1 class="h3">{{ customer.name }}</h1>
    </div>

    <h4>Cards</h4>

    {% if customer.defaultSource and customer.defaultSource.type == 1 %}
        <div class="font-weight-bold">
            DEFAULT: {{ customer.defaultSource.platformData.brand }}
            {{ customer.defaultSource.platformData.exp_month }}/{{ customer.defaultSource.platformData.exp_year }}
            **** **** **** **** {{ customer.defaultSource.platformData.last4 }}
        </div>
    {% endif %}

    <div class="">
        {% for card in customer.sources|filter(source => source.type == 1 and source != customer.defaultSource) %}
            <div>
                {{ card.platformData.brand }}
                {{ card.platformData.exp_month }}/{{ card.platformData.exp_year }}
                **** **** **** **** {{ card.platformData.last4 }}
            </div>
        {% endfor %}
    </div>
{% endblock content %}